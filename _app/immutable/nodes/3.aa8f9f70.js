import{s as Ze,n as we,c as ze,o as Ke,a as te,r as Xe}from"../chunks/scheduler.b4fccd2c.js";import{S as Qe,i as We,s as y,e as u,k as Ye,d as c,f as N,c as f,a as E,l as le,m as n,g as J,h as a,t as F,H as xe,b as $,n as et,o as ge,j as Z,p as ke,q as je}from"../chunks/index.c79273f8.js";import{g as tt,a as Re,e as re,s as lt}from"../chunks/Constants.42816b1d.js";import{b as Je}from"../chunks/paths.1a3dd1de.js";import{p as st}from"../chunks/stores.e133dc27.js";const{document:De}=tt;function Ae(o,e,r){const s=o.slice();return s[17]=e[r],s}function Se(o,e,r){const s=o.slice();return s[20]=e[r],s}function qe(o,e,r){const s=o.slice();return s[20]=e[r],s}function Ge(o){let e,r='<div class="nucleobase svelte-114vg8a"></div> <div class="nucleobase svelte-114vg8a"></div> <div class="nucleobase svelte-114vg8a"></div> <div class="nucleobase svelte-114vg8a"></div> <div class="nucleobase svelte-114vg8a"></div> <div class="nucleobase svelte-114vg8a"></div> <div class="nucleobase svelte-114vg8a"></div> <div class="nucleobase svelte-114vg8a"></div> <div class="nucleobase svelte-114vg8a"></div> <div class="nucleobase svelte-114vg8a"></div>';return{c(){e=u("div"),e.innerHTML=r,this.h()},l(s){e=f(s,"DIV",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-1vxv50n"&&(e.innerHTML=r),this.h()},h(){n(e,"class","DNA_cont svelte-114vg8a")},m(s,g){J(s,e,g)},d(s){s&&c(e)}}}function Oe(o){let e,r,s,g=o[1].sessionType+"",p,v,l,i=o[1].title+"",t,h,I,_,k,T=Re(o[1].start.split("T")[0])+"",j,b,d,O,w=o[1].start.split("T")[1].split("+")[0]+" - "+o[1].end.split("T")[1].split("+")[0],D,H,M,V,Q="Objectifs :",P,A,z,K,W,Y,G,U,se,ae,ve,me,B,oe,ce,pe,X,x,Te='<strong class="svelte-114vg8a">Liste de lecture :</strong>',be,ee,S=o[3]&&Pe(o),q=o[4]&&$e(o),ie=re(o[7]),R=[];for(let m=0;m<ie.length;m+=1)R[m]=Be(Ae(o,ie,m));return{c(){e=u("div"),r=u("div"),s=u("div"),p=F(g),v=y(),l=u("h1"),t=F(i),h=y(),I=u("div"),_=u("div"),k=F("🗓️ "),j=F(T),b=y(),d=u("div"),O=F("🕣 "),D=F(w),H=y(),M=u("div"),V=u("strong"),V.textContent=Q,P=y(),A=u("div"),z=new xe(!1),K=y(),S&&S.c(),W=y(),q&&q.c(),Y=y(),G=u("div"),U=u("div"),se=u("div"),ae=u("strong"),ve=F(o[5]),me=y(),B=u("video"),oe=u("track"),pe=y(),X=u("div"),x=u("div"),x.innerHTML=Te,be=y(),ee=u("div");for(let m=0;m<R.length;m+=1)R[m].c();this.h()},l(m){e=f(m,"DIV",{class:!0,style:!0});var C=E(e);r=f(C,"DIV",{class:!0});var L=E(r);s=f(L,"DIV",{class:!0,style:!0});var ne=E(s);p=$(ne,g),ne.forEach(c),v=N(L),l=f(L,"H1",{class:!0});var Ce=E(l);t=$(Ce,i),Ce.forEach(c),h=N(L),I=f(L,"DIV",{class:!0});var de=E(I);_=f(de,"DIV",{class:!0});var Ee=E(_);k=$(Ee,"🗓️ "),j=$(Ee,T),Ee.forEach(c),b=N(de),d=f(de,"DIV",{class:!0});var Ve=E(d);O=$(Ve,"🕣 "),D=$(Ve,w),Ve.forEach(c),de.forEach(c),L.forEach(c),H=N(C),M=f(C,"DIV",{class:!0});var ue=E(M);V=f(ue,"STRONG",{class:!0,"data-svelte-h":!0}),le(V)!=="svelte-1jn7qe7"&&(V.textContent=Q),P=N(ue),A=f(ue,"DIV",{class:!0});var ye=E(A);z=et(ye,!1),ye.forEach(c),ue.forEach(c),K=N(C),S&&S.l(C),W=N(C),q&&q.l(C),C.forEach(c),Y=N(m),G=f(m,"DIV",{class:!0});var fe=E(G);U=f(fe,"DIV",{class:!0});var he=E(U);se=f(he,"DIV",{class:!0});var Ne=E(se);ae=f(Ne,"STRONG",{class:!0});var He=E(ae);ve=$(He,o[5]),He.forEach(c),Ne.forEach(c),me=N(he),B=f(he,"VIDEO",{class:!0,src:!0});var Le=E(B);oe=f(Le,"TRACK",{kind:!0,class:!0}),Le.forEach(c),he.forEach(c),pe=N(fe),X=f(fe,"DIV",{class:!0});var _e=E(X);x=f(_e,"DIV",{class:!0,"data-svelte-h":!0}),le(x)!=="svelte-1qyb1c1"&&(x.innerHTML=Te),be=N(_e),ee=f(_e,"DIV",{class:!0});var Me=E(ee);for(let Ie=0;Ie<R.length;Ie+=1)R[Ie].l(Me);Me.forEach(c),_e.forEach(c),fe.forEach(c),this.h()},h(){n(s,"class","session-type svelte-114vg8a"),ge(s,"color",o[1].sessionTypeColor!=="#000000"?o[1].sessionTypeColor:"#dfdfdf"),n(l,"class","svelte-114vg8a"),n(_,"class","svelte-114vg8a"),n(d,"class","svelte-114vg8a"),n(I,"class","date-time subtitle svelte-114vg8a"),n(r,"class","session-header svelte-114vg8a"),n(V,"class","svelte-114vg8a"),z.a=null,n(A,"class","svelte-114vg8a"),n(M,"class","objectives svelte-114vg8a"),n(e,"class","detail svelte-114vg8a"),ge(e,"border-left-color",o[1].sessionTypeColor),n(ae,"class","svelte-114vg8a"),n(se,"class","svelte-114vg8a"),n(oe,"kind","captions"),n(oe,"class","svelte-114vg8a"),B.controls=!0,n(B,"class","video-player svelte-114vg8a"),te(B.src,ce=o[6])||n(B,"src",ce),n(U,"class","video-container svelte-114vg8a"),n(x,"class","svelte-114vg8a"),n(ee,"class","playlist svelte-114vg8a"),n(X,"class","playlist-container svelte-114vg8a"),n(G,"class","media svelte-114vg8a")},m(m,C){J(m,e,C),a(e,r),a(r,s),a(s,p),a(r,v),a(r,l),a(l,t),a(r,h),a(r,I),a(I,_),a(_,k),a(_,j),a(I,b),a(I,d),a(d,O),a(d,D),a(e,H),a(e,M),a(M,V),a(M,P),a(M,A),z.m(o[2],A),a(e,K),S&&S.m(e,null),a(e,W),q&&q.m(e,null),J(m,Y,C),J(m,G,C),a(G,U),a(U,se),a(se,ae),a(ae,ve),a(U,me),a(U,B),a(B,oe),a(G,pe),a(G,X),a(X,x),a(X,be),a(X,ee);for(let L=0;L<R.length;L+=1)R[L]&&R[L].m(ee,null)},p(m,C){if(C&2&&g!==(g=m[1].sessionType+"")&&Z(p,g),C&2&&ge(s,"color",m[1].sessionTypeColor!=="#000000"?m[1].sessionTypeColor:"#dfdfdf"),C&2&&i!==(i=m[1].title+"")&&Z(t,i),C&2&&T!==(T=Re(m[1].start.split("T")[0])+"")&&Z(j,T),C&2&&w!==(w=m[1].start.split("T")[1].split("+")[0]+" - "+m[1].end.split("T")[1].split("+")[0])&&Z(D,w),C&4&&z.p(m[2]),m[3]?S?S.p(m,C):(S=Pe(m),S.c(),S.m(e,W)):S&&(S.d(1),S=null),m[4]?q?q.p(m,C):(q=$e(m),q.c(),q.m(e,null)):q&&(q.d(1),q=null),C&2&&ge(e,"border-left-color",m[1].sessionTypeColor),C&32&&Z(ve,m[5]),C&64&&!te(B.src,ce=m[6])&&n(B,"src",ce),C&960){ie=re(m[7]);let L;for(L=0;L<ie.length;L+=1){const ne=Ae(m,ie,L);R[L]?R[L].p(ne,C):(R[L]=Be(ne),R[L].c(),R[L].m(ee,null))}for(;L<R.length;L+=1)R[L].d(1);R.length=ie.length}},d(m){m&&(c(e),c(Y),c(G)),S&&S.d(),q&&q.d(),ke(R,m)}}}function Pe(o){let e,r,s="Modérateur :",g,p=re(o[3]),v=[];for(let l=0;l<p.length;l+=1)v[l]=Fe(qe(o,p,l));return{c(){e=u("div"),r=u("div"),r.textContent=s,g=y();for(let l=0;l<v.length;l+=1)v[l].c();this.h()},l(l){e=f(l,"DIV",{class:!0});var i=E(e);r=f(i,"DIV",{class:!0,"data-svelte-h":!0}),le(r)!=="svelte-1ct5364"&&(r.textContent=s),g=N(i);for(let t=0;t<v.length;t+=1)v[t].l(i);i.forEach(c),this.h()},h(){n(r,"class","role-label svelte-114vg8a"),n(e,"class","person-list svelte-114vg8a")},m(l,i){J(l,e,i),a(e,r),a(e,g);for(let t=0;t<v.length;t+=1)v[t]&&v[t].m(e,null)},p(l,i){if(i&8){p=re(l[3]);let t;for(t=0;t<p.length;t+=1){const h=qe(l,p,t);v[t]?v[t].p(h,i):(v[t]=Fe(h),v[t].c(),v[t].m(e,null))}for(;t<v.length;t+=1)v[t].d(1);v.length=p.length}},d(l){l&&c(e),ke(v,l)}}}function Fe(o){let e,r,s,g,p,v,l,i,t=`${o[20].firstName} ${o[20].lastName}`,h,I,_,k=`${o[20].city.name}, ${o[20].country.name}`,T,j;return{c(){e=u("div"),r=u("div"),s=u("img"),v=y(),l=u("div"),i=u("div"),h=F(t),I=y(),_=u("div"),T=F(k),j=y(),this.h()},l(b){e=f(b,"DIV",{class:!0});var d=E(e);r=f(d,"DIV",{class:!0});var O=E(r);s=f(O,"IMG",{class:!0,src:!0,alt:!0}),O.forEach(c),v=N(d),l=f(d,"DIV",{class:!0});var w=E(l);i=f(w,"DIV",{class:!0});var D=E(i);h=$(D,t),D.forEach(c),I=N(w),_=f(w,"DIV",{class:!0});var H=E(_);T=$(H,k),H.forEach(c),w.forEach(c),j=N(d),d.forEach(c),this.h()},h(){n(s,"class","avatar-image svelte-114vg8a"),te(s.src,g=o[20].photo.url)||n(s,"src",g),n(s,"alt",p=o[20].firstName),n(r,"class","person-avatar svelte-114vg8a"),n(i,"class","person-name svelte-114vg8a"),n(_,"class","person-location svelte-114vg8a"),n(l,"class","person-info svelte-114vg8a"),n(e,"class","person svelte-114vg8a")},m(b,d){J(b,e,d),a(e,r),a(r,s),a(e,v),a(e,l),a(l,i),a(i,h),a(l,I),a(l,_),a(_,T),a(e,j)},p(b,d){d&8&&!te(s.src,g=b[20].photo.url)&&n(s,"src",g),d&8&&p!==(p=b[20].firstName)&&n(s,"alt",p),d&8&&t!==(t=`${b[20].firstName} ${b[20].lastName}`)&&Z(h,t),d&8&&k!==(k=`${b[20].city.name}, ${b[20].country.name}`)&&Z(T,k)},d(b){b&&c(e)}}}function $e(o){let e,r,s="Responsable :",g,p=re(o[4]),v=[];for(let l=0;l<p.length;l+=1)v[l]=Ue(Se(o,p,l));return{c(){e=u("div"),r=u("div"),r.textContent=s,g=y();for(let l=0;l<v.length;l+=1)v[l].c();this.h()},l(l){e=f(l,"DIV",{class:!0});var i=E(e);r=f(i,"DIV",{class:!0,"data-svelte-h":!0}),le(r)!=="svelte-1kce1fk"&&(r.textContent=s),g=N(i);for(let t=0;t<v.length;t+=1)v[t].l(i);i.forEach(c),this.h()},h(){n(r,"class","role-label svelte-114vg8a"),n(e,"class","person-list svelte-114vg8a")},m(l,i){J(l,e,i),a(e,r),a(e,g);for(let t=0;t<v.length;t+=1)v[t]&&v[t].m(e,null)},p(l,i){if(i&16){p=re(l[4]);let t;for(t=0;t<p.length;t+=1){const h=Se(l,p,t);v[t]?v[t].p(h,i):(v[t]=Ue(h),v[t].c(),v[t].m(e,null))}for(;t<v.length;t+=1)v[t].d(1);v.length=p.length}},d(l){l&&c(e),ke(v,l)}}}function Ue(o){let e,r,s,g,p,v,l,i,t=`${o[20].firstName} ${o[20].lastName}`,h,I,_,k=`${o[20].city.name}, ${o[20].country.name}`,T,j;return{c(){e=u("div"),r=u("div"),s=u("img"),v=y(),l=u("div"),i=u("div"),h=F(t),I=y(),_=u("div"),T=F(k),j=y(),this.h()},l(b){e=f(b,"DIV",{class:!0});var d=E(e);r=f(d,"DIV",{class:!0});var O=E(r);s=f(O,"IMG",{class:!0,src:!0,alt:!0}),O.forEach(c),v=N(d),l=f(d,"DIV",{class:!0});var w=E(l);i=f(w,"DIV",{class:!0});var D=E(i);h=$(D,t),D.forEach(c),I=N(w),_=f(w,"DIV",{class:!0});var H=E(_);T=$(H,k),H.forEach(c),w.forEach(c),j=N(d),d.forEach(c),this.h()},h(){n(s,"class","avatar-image svelte-114vg8a"),te(s.src,g=o[20].photo.url)||n(s,"src",g),n(s,"alt",p=o[20].firstName),n(r,"class","person-avatar svelte-114vg8a"),n(i,"class","person-name svelte-114vg8a"),n(_,"class","person-location svelte-114vg8a"),n(l,"class","person-info svelte-114vg8a"),n(e,"class","person svelte-114vg8a")},m(b,d){J(b,e,d),a(e,r),a(r,s),a(e,v),a(e,l),a(l,i),a(i,h),a(l,I),a(l,_),a(_,T),a(e,j)},p(b,d){d&16&&!te(s.src,g=b[20].photo.url)&&n(s,"src",g),d&16&&p!==(p=b[20].firstName)&&n(s,"alt",p),d&16&&t!==(t=`${b[20].firstName} ${b[20].lastName}`)&&Z(h,t),d&16&&k!==(k=`${b[20].city.name}, ${b[20].country.name}`)&&Z(T,k)},d(b){b&&c(e)}}}function Be(o){let e,r,s,g,p,v,l,i,t=o[17].title+"",h,I,_,k,T=o[17].start+"",j,b,d,O='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" class="svg-icon svelte-114vg8a" xmlns="http://www.w3.org/2000/svg"><path d="M11 5C11 4.44772 11.4477 4 12 4C12.5523 4 13 4.44772 13 5V12.1578L16.2428 8.91501L17.657 10.3292L12.0001 15.9861L6.34326 10.3292L7.75748 8.91501L11 12.1575V5Z" fill="currentColor" class="svelte-114vg8a"></path><path d="M4 14H6V18H18V14H20V18C20 19.1046 19.1046 20 18 20H6C4.89543 20 4 19.1046 4 18V14Z" fill="currentColor" class="svelte-114vg8a"></path></svg> <div class="svelte-114vg8a">Télécharger</div>',w,D,H,M;function V(){return o[10](o[17])}function Q(){return o[11](o[17])}return{c(){e=u("div"),r=u("div"),s=u("img"),p=y(),v=u("div"),l=u("div"),i=u("strong"),h=F(t),I=y(),_=u("div"),k=u("span"),j=F(T),b=y(),d=u("button"),d.innerHTML=O,w=y(),this.h()},l(P){e=f(P,"DIV",{class:!0});var A=E(e);r=f(A,"DIV",{class:!0});var z=E(r);s=f(z,"IMG",{class:!0,src:!0,alt:!0}),z.forEach(c),p=N(A),v=f(A,"DIV",{class:!0});var K=E(v);l=f(K,"DIV",{class:!0});var W=E(l);i=f(W,"STRONG",{class:!0});var Y=E(i);h=$(Y,t),Y.forEach(c),W.forEach(c),I=N(K),_=f(K,"DIV",{class:!0});var G=E(_);k=f(G,"SPAN",{class:!0});var U=E(k);j=$(U,T),U.forEach(c),b=N(G),d=f(G,"BUTTON",{type:!0,title:!0,class:!0,"data-svelte-h":!0}),le(d)!=="svelte-okigmr"&&(d.innerHTML=O),G.forEach(c),K.forEach(c),w=N(A),A.forEach(c),this.h()},h(){n(s,"class","thumbnail svelte-114vg8a"),te(s.src,g=o[17].thumbnail)||n(s,"src",g),n(s,"alt",o[17].title),n(r,"class","thumbnail-container svelte-114vg8a"),n(i,"class","svelte-114vg8a"),n(l,"class","svelte-114vg8a"),n(k,"class","svelte-114vg8a"),n(d,"type","button"),n(d,"title","Télécharger"),n(d,"class","btn-download svelte-114vg8a"),n(_,"class","subtitle svelte-114vg8a"),n(v,"class","video-details svelte-114vg8a"),n(e,"class",D="playlist-item "+(o[17].url==o[6]?"selected":"")+" svelte-114vg8a")},m(P,A){J(P,e,A),a(e,r),a(r,s),a(e,p),a(e,v),a(v,l),a(l,i),a(i,h),a(v,I),a(v,_),a(_,k),a(k,j),a(_,b),a(_,d),a(e,w),H||(M=[je(d,"click",V),je(e,"click",Q)],H=!0)},p(P,A){o=P,A&64&&D!==(D="playlist-item "+(o[17].url==o[6]?"selected":"")+" svelte-114vg8a")&&n(e,"class",D)},d(P){P&&c(e),H=!1,Xe(M)}}}function at(o){let e,r,s,g,p='<i class="gg-chevron-left svelte-114vg8a"></i> Retour',v,l;De.title=e=o[1]?o[1].title:"JFR 2024";let i=o[0]&&Ge(),t=!o[0]&&o[1]&&Oe(o);return{c(){r=y(),s=u("main"),g=u("a"),g.innerHTML=p,v=y(),i&&i.c(),l=y(),t&&t.c(),this.h()},l(h){Ye("svelte-135ofcf",De.head).forEach(c),r=N(h),s=f(h,"MAIN",{class:!0});var _=E(s);g=f(_,"A",{href:!0,class:!0,"data-svelte-h":!0}),le(g)!=="svelte-1su23mt"&&(g.innerHTML=p),v=N(_),i&&i.l(_),l=N(_),t&&t.l(_),_.forEach(c),this.h()},h(){n(g,"href",Je+"/"),n(g,"class","one-liner svelte-114vg8a"),n(s,"class","svelte-114vg8a")},m(h,I){J(h,r,I),J(h,s,I),a(s,g),a(s,v),i&&i.m(s,null),a(s,l),t&&t.m(s,null)},p(h,[I]){I&2&&e!==(e=h[1]?h[1].title:"JFR 2024")&&(De.title=e),h[0]?i||(i=Ge(),i.c(),i.m(s,l)):i&&(i.d(1),i=null),!h[0]&&h[1]?t?t.p(h,I):(t=Oe(h),t.c(),t.m(s,null)):t&&(t.d(1),t=null)},i:we,o:we,d(h){h&&(c(r),c(s)),i&&i.d(),t&&t.d()}}}function it(o,e,r){let s;ze(o,st,D=>r(14,s=D));const g=s.url.searchParams;let p;g&&(p=g.get("id"));let v=!0,l,i,t,h,I,_,k,T=[];const j=D=>{var H=new XMLHttpRequest;return H.open("HEAD",D,!1),H.send(),H.status!=404},b=(D,H)=>{r(5,_=D),r(6,k=H)},d=(D,H)=>{const M=document.createElement("a");M.href=H;const V=H.split("."),Q="."+V[V.length-1];M.download=lt(D)+Q,M.target="_blank",document.body.appendChild(M),M.click(),document.body.removeChild(M)};return Ke(async()=>{var H,M;l=await(await fetch(`${Je}/json/${p}.json`)).json(),r(1,i=l.data.event),r(2,t=i.objectives.map(V=>`<div class="objectives-value">${V}</div>`).join("")),r(3,h=(H=i.roles.find(V=>V.name==="modérateur"))==null?void 0:H.assignees.items),r(4,I=(M=i.roles.find(V=>V.name==="responsable"))==null?void 0:M.assignees.items);for(const V of i.schedule.items)V.vod&&V.vod.media&&V.vod.media.element&&V.vod.media.element.sources&&T.push({title:V.title,url:V.vod.media.element.sources[0].uri,thumbnail:V.vod.media.thumbnail,start:V.start.split("T")[1].split("+")[0]});if(i.picture){const V=i.picture.split("/video/")[0]+"/video/y_1080p_4000kb.mp4";!T.some(P=>P.url===V)&&j(V)&&T.push({title:"[Non répertoriée]",url:V,thumbnail:i.picture,start:i.start.split("T")[1].split("+")[0]})}T.length>0&&(r(5,_=T[0].title),r(6,k=T[0].url)),r(0,v=!1)}),[v,i,t,h,I,_,k,T,b,d,D=>d(D.title,D.url),D=>b(D.title,D.url)]}class dt extends Qe{constructor(e){super(),We(this,e,it,at,Ze,{})}}export{dt as component};
