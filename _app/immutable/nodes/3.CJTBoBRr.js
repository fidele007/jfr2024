import{s as wt,e as _,a as y,c as m,b as T,g as M,f as p,A as he,v,w as me,i as X,h as u,B as Lt,n as tt,C as Ut,k as Ge,r as Nt,t as z,d as K,j as ae,x as Dt,D as yt,E as ye,H as Mt,F as Vt,G as lt}from"../chunks/scheduler.D1EBi0Fn.js";import{S as Pt,i as Rt,b as ge,d as je,m as be,t as g,a as C,c as ee,e as Te,g as te,f as St}from"../chunks/index.92fKZ5vc.js";import{M as Bt,g as Ot,a as He,b as Le,e as ue,S as qt,P as Ue,c as Yt,m as st,p as it}from"../chunks/MediaHistoryButton.C9NJQpSy.js";import{b as ze}from"../chunks/paths.BJ03uJJE.js";import{p as Ft}from"../chunks/stores.BpgcXKik.js";function Gt(d){let e,l,t,n,i,c,f,s="Autoplay",I,r;return{c(){e=_("div"),l=_("label"),t=_("input"),n=y(),i=_("span"),c=y(),f=_("span"),f.textContent=s,this.h()},l(o){e=m(o,"DIV",{class:!0});var a=T(e);l=m(a,"LABEL",{class:!0,style:!0});var h=T(l);t=m(h,"INPUT",{type:!0,class:!0}),n=M(h),i=m(h,"SPAN",{class:!0}),T(i).forEach(p),h.forEach(p),c=M(a),f=m(a,"SPAN",{"data-svelte-h":!0}),he(f)!=="svelte-1q3ae6r"&&(f.textContent=s),a.forEach(p),this.h()},h(){v(t,"type","checkbox"),v(t,"class","svelte-24vers"),v(i,"class","slider svelte-24vers"),v(l,"class","switch svelte-24vers"),me(l,"--switch-color",d[1]),v(e,"class","switch-container svelte-24vers")},m(o,a){X(o,e,a),u(e,l),u(l,t),t.checked=d[0],u(l,n),u(l,i),u(e,c),u(e,f),I||(r=Lt(t,"change",d[2]),I=!0)},p(o,[a]){a&1&&(t.checked=o[0])},i:tt,o:tt,d(o){o&&p(e),I=!1,r()}}}function Jt(d,e,l){let{checked:t=!1}=e;const n="#646cff";function i(){t=this.checked,l(0,t)}return d.$$set=c=>{"checked"in c&&l(0,t=c.checked)},[t,n,i]}class zt extends Pt{constructor(e){super(),Rt(this,e,Jt,Gt,wt,{checked:0,color:1})}get color(){return this.$$.ctx[1]}}const{document:Je}=Ot;function at(d,e,l){const t=d.slice();return t[25]=e[l],t}function nt(d,e,l){const t=d.slice();return t[25]=e[l],t}function rt(d,e,l){const t=d.slice();return t[30]=e[l],t}function ot(d,e,l){const t=d.slice();return t[25]=e[l],t}function dt(d,e,l){const t=d.slice();return t[25]=e[l],t}function ct(d){let e,l='<div class="nucleobase svelte-d8j55j"></div> <div class="nucleobase svelte-d8j55j"></div> <div class="nucleobase svelte-d8j55j"></div> <div class="nucleobase svelte-d8j55j"></div> <div class="nucleobase svelte-d8j55j"></div> <div class="nucleobase svelte-d8j55j"></div> <div class="nucleobase svelte-d8j55j"></div> <div class="nucleobase svelte-d8j55j"></div> <div class="nucleobase svelte-d8j55j"></div> <div class="nucleobase svelte-d8j55j"></div>';return{c(){e=_("div"),e.innerHTML=l,this.h()},l(t){e=m(t,"DIV",{class:!0,"data-svelte-h":!0}),he(e)!=="svelte-1vxv50n"&&(e.innerHTML=l),this.h()},h(){v(e,"class","DNA_cont svelte-d8j55j")},m(t,n){X(t,e,n)},d(t){t&&p(e)}}}function ft(d){var ce,ve,oe,k;let e,l,t,n,i=d[3].sessionType+"",c,f,s,I=d[3].title+"",r,o,a,h,E,S=He((ce=d[3].start)==null?void 0:ce.split("T")[0])+"",P,q,Y,H=Le((ve=d[3].start)==null?void 0:ve.split("T")[1].split("+")[0])+"",ie,ne,re=((oe=d[3].start)==null?void 0:oe.split("T")[1].split("+")[0])+" - "+((k=d[3].end)==null?void 0:k.split("T")[1].split("+")[0]),F,le,de,$,L,R=d[7].length>0&&ut(d),w=d[4]&&Tt(d),A=(d[5]||d[6])&&kt(d);return{c(){R&&R.c(),e=y(),l=_("div"),t=_("div"),n=_("div"),c=z(i),f=y(),s=_("h1"),r=z(I),o=y(),a=_("div"),h=_("div"),E=z("üóìÔ∏è "),P=z(S),q=y(),Y=_("div"),ie=z(H),ne=y(),F=z(re),le=y(),w&&w.c(),de=y(),A&&A.c(),this.h()},l(j){R&&R.l(j),e=M(j),l=m(j,"DIV",{class:!0,style:!0});var D=T(l);t=m(D,"DIV",{class:!0});var Q=T(t);n=m(Q,"DIV",{class:!0,style:!0});var Z=T(n);c=K(Z,i),Z.forEach(p),f=M(Q),s=m(Q,"H1",{class:!0});var W=T(s);r=K(W,I),W.forEach(p),o=M(Q),a=m(Q,"DIV",{class:!0});var G=T(a);h=m(G,"DIV",{class:!0});var ke=T(h);E=K(ke,"üóìÔ∏è "),P=K(ke,S),ke.forEach(p),q=M(G),Y=m(G,"DIV",{class:!0});var fe=T(Y);ie=K(fe,H),ne=M(fe),F=K(fe,re),fe.forEach(p),G.forEach(p),Q.forEach(p),le=M(D),w&&w.l(D),de=M(D),A&&A.l(D),D.forEach(p),this.h()},h(){v(n,"class","session-type svelte-d8j55j"),me(n,"color",d[3].sessionTypeColor!=="#000000"?d[3].sessionTypeColor:"#dfdfdf"),v(s,"class","svelte-d8j55j"),v(h,"class","svelte-d8j55j"),v(Y,"class","svelte-d8j55j"),v(a,"class","date-time subtitle svelte-d8j55j"),v(t,"class","session-header svelte-d8j55j"),v(l,"class",$="detail screen-small "+(d[7].length==0?"no-media":"")+" svelte-d8j55j"),me(l,"border-left-color",d[3].sessionTypeColor)},m(j,D){R&&R.m(j,D),X(j,e,D),X(j,l,D),u(l,t),u(t,n),u(n,c),u(t,f),u(t,s),u(s,r),u(t,o),u(t,a),u(a,h),u(h,E),u(h,P),u(a,q),u(a,Y),u(Y,ie),u(Y,ne),u(Y,F),u(l,le),w&&w.m(l,null),u(l,de),A&&A.m(l,null),L=!0},p(j,D){var Q,Z,W,G;j[7].length>0?R?(R.p(j,D),D[0]&128&&g(R,1)):(R=ut(j),R.c(),g(R,1),R.m(e.parentNode,e)):R&&(te(),C(R,1,1,()=>{R=null}),ee()),(!L||D[0]&8)&&i!==(i=j[3].sessionType+"")&&ae(c,i),(!L||D[0]&8)&&me(n,"color",j[3].sessionTypeColor!=="#000000"?j[3].sessionTypeColor:"#dfdfdf"),(!L||D[0]&8)&&I!==(I=j[3].title+"")&&ae(r,I),(!L||D[0]&8)&&S!==(S=He((Q=j[3].start)==null?void 0:Q.split("T")[0])+"")&&ae(P,S),(!L||D[0]&8)&&H!==(H=Le((Z=j[3].start)==null?void 0:Z.split("T")[1].split("+")[0])+"")&&ae(ie,H),(!L||D[0]&8)&&re!==(re=((W=j[3].start)==null?void 0:W.split("T")[1].split("+")[0])+" - "+((G=j[3].end)==null?void 0:G.split("T")[1].split("+")[0]))&&ae(F,re),j[4]?w?w.p(j,D):(w=Tt(j),w.c(),w.m(l,de)):w&&(w.d(1),w=null),j[5]||j[6]?A?(A.p(j,D),D[0]&96&&g(A,1)):(A=kt(j),A.c(),g(A,1),A.m(l,null)):A&&(te(),C(A,1,1,()=>{A=null}),ee()),(!L||D[0]&128&&$!==($="detail screen-small "+(j[7].length==0?"no-media":"")+" svelte-d8j55j"))&&v(l,"class",$),(!L||D[0]&8)&&me(l,"border-left-color",j[3].sessionTypeColor)},i(j){L||(g(R),g(A),L=!0)},o(j){C(R),C(A),L=!1},d(j){j&&(p(e),p(l)),R&&R.d(j),w&&w.d(),A&&A.d()}}}function ut(d){var Qe,We,Xe,Ze;let e,l,t,n,i,c=(d[0].title??"üò∂‚Äçüå´Ô∏è")+"",f,s,I,r,o='<div id="player" class="svelte-d8j55j"></div>',a,h,E,S,P=d[3].sessionType+"",q,Y,H,ie=d[3].title+"",ne,re,F,le,de,$=He((Qe=d[3].start)==null?void 0:Qe.split("T")[0])+"",L,R,w,A=Le((We=d[3].start)==null?void 0:We.split("T")[1].split("+")[0])+"",ce,ve,oe=((Xe=d[3].start)==null?void 0:Xe.split("T")[1].split("+")[0])+" - "+((Ze=d[3].end)==null?void 0:Ze.split("T")[1].split("+")[0]),k,j,D,Q,Z,W,G,ke,fe=d[7].length+"",Me,Ne,Be,pe,Oe,qe,Ee,se,B=d[0].speakers&&ht(d),J=d[4]&&vt(d),O=(d[5]||d[6])&&pt(d);function At(b){d[9](b)}let Ke={};d[1]!==void 0&&(Ke.checked=d[1]),pe=new zt({props:Ke}),Dt.push(()=>St(pe,"checked",At));let $e=ue(d[7]),U=[];for(let b=0;b<$e.length;b+=1)U[b]=bt(rt(d,$e,b));const Ht=b=>C(U[b],1,1,()=>{U[b]=null});return{c(){e=_("div"),l=_("div"),t=_("div"),n=_("div"),i=_("strong"),f=z(c),s=y(),B&&B.c(),I=y(),r=_("div"),r.innerHTML=o,a=y(),h=_("div"),E=_("div"),S=_("div"),q=z(P),Y=y(),H=_("h1"),ne=z(ie),re=y(),F=_("div"),le=_("div"),de=z("üóìÔ∏è "),L=z($),R=y(),w=_("div"),ce=z(A),ve=y(),k=z(oe),j=y(),J&&J.c(),D=y(),O&&O.c(),Q=y(),Z=_("div"),W=_("div"),G=_("strong"),ke=z("Liste de lecture ("),Me=z(fe),Ne=z("):"),Be=y(),ge(pe.$$.fragment),qe=y(),Ee=_("div");for(let b=0;b<U.length;b+=1)U[b].c();this.h()},l(b){e=m(b,"DIV",{class:!0});var V=T(e);l=m(V,"DIV",{class:!0});var x=T(l);t=m(x,"DIV",{id:!0,class:!0});var Ce=T(t);n=m(Ce,"DIV",{class:!0});var Ie=T(n);i=m(Ie,"STRONG",{class:!0});var we=T(i);f=K(we,c),we.forEach(p),Ie.forEach(p),s=M(Ce),B&&B.l(Ce),Ce.forEach(p),I=M(x),r=m(x,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),he(r)!=="svelte-gyfm8q"&&(r.innerHTML=o),a=M(x),h=m(x,"DIV",{class:!0,style:!0});var _e=T(h);E=m(_e,"DIV",{class:!0});var N=T(E);S=m(N,"DIV",{class:!0,style:!0});var De=T(S);q=K(De,P),De.forEach(p),Y=M(N),H=m(N,"H1",{class:!0});var xe=T(H);ne=K(xe,ie),xe.forEach(p),re=M(N),F=m(N,"DIV",{class:!0});var Ve=T(F);le=m(Ve,"DIV",{class:!0});var Ye=T(le);de=K(Ye,"üóìÔ∏è "),L=K(Ye,$),Ye.forEach(p),R=M(Ve),w=m(Ve,"DIV",{class:!0});var Pe=T(w);ce=K(Pe,A),ve=M(Pe),k=K(Pe,oe),Pe.forEach(p),Ve.forEach(p),N.forEach(p),j=M(_e),J&&J.l(_e),D=M(_e),O&&O.l(_e),_e.forEach(p),x.forEach(p),Q=M(V),Z=m(V,"DIV",{class:!0});var Re=T(Z);W=m(Re,"DIV",{id:!0,class:!0});var Se=T(W);G=m(Se,"STRONG",{class:!0});var Ae=T(G);ke=K(Ae,"Liste de lecture ("),Me=K(Ae,fe),Ne=K(Ae,"):"),Ae.forEach(p),Be=M(Se),je(pe.$$.fragment,Se),Se.forEach(p),qe=M(Re),Ee=m(Re,"DIV",{class:!0});var et=T(Ee);for(let Fe=0;Fe<U.length;Fe+=1)U[Fe].l(et);et.forEach(p),Re.forEach(p),V.forEach(p),this.h()},h(){v(i,"class","svelte-d8j55j"),v(n,"class","svelte-d8j55j"),v(t,"id","current-media-info"),v(t,"class","svelte-d8j55j"),v(r,"id","video-container"),v(r,"class","svelte-d8j55j"),v(S,"class","session-type svelte-d8j55j"),me(S,"color",d[3].sessionTypeColor!=="#000000"?d[3].sessionTypeColor:"#dfdfdf"),v(H,"class","svelte-d8j55j"),v(le,"class","svelte-d8j55j"),v(w,"class","svelte-d8j55j"),v(F,"class","date-time subtitle svelte-d8j55j"),v(E,"class","session-header svelte-d8j55j"),v(h,"class","detail screen-big svelte-d8j55j"),me(h,"border-left-color",d[3].sessionTypeColor),v(l,"class","current-media svelte-d8j55j"),v(G,"class","svelte-d8j55j"),v(W,"id","playlist-title"),v(W,"class","svelte-d8j55j"),v(Ee,"class","playlist svelte-d8j55j"),v(Z,"class","playlist-container svelte-d8j55j"),v(e,"class","media svelte-d8j55j")},m(b,V){X(b,e,V),u(e,l),u(l,t),u(t,n),u(n,i),u(i,f),u(t,s),B&&B.m(t,null),u(l,I),u(l,r),u(l,a),u(l,h),u(h,E),u(E,S),u(S,q),u(E,Y),u(E,H),u(H,ne),u(E,re),u(E,F),u(F,le),u(le,de),u(le,L),u(F,R),u(F,w),u(w,ce),u(w,ve),u(w,k),u(h,j),J&&J.m(h,null),u(h,D),O&&O.m(h,null),u(e,Q),u(e,Z),u(Z,W),u(W,G),u(G,ke),u(G,Me),u(G,Ne),u(W,Be),be(pe,W,null),u(Z,qe),u(Z,Ee);for(let x=0;x<U.length;x+=1)U[x]&&U[x].m(Ee,null);se=!0},p(b,V){var Ce,Ie,we,_e;(!se||V[0]&1)&&c!==(c=(b[0].title??"üò∂‚Äçüå´Ô∏è")+"")&&ae(f,c),b[0].speakers?B?(B.p(b,V),V[0]&1&&g(B,1)):(B=ht(b),B.c(),g(B,1),B.m(t,null)):B&&(te(),C(B,1,1,()=>{B=null}),ee()),(!se||V[0]&8)&&P!==(P=b[3].sessionType+"")&&ae(q,P),(!se||V[0]&8)&&me(S,"color",b[3].sessionTypeColor!=="#000000"?b[3].sessionTypeColor:"#dfdfdf"),(!se||V[0]&8)&&ie!==(ie=b[3].title+"")&&ae(ne,ie),(!se||V[0]&8)&&$!==($=He((Ce=b[3].start)==null?void 0:Ce.split("T")[0])+"")&&ae(L,$),(!se||V[0]&8)&&A!==(A=Le((Ie=b[3].start)==null?void 0:Ie.split("T")[1].split("+")[0])+"")&&ae(ce,A),(!se||V[0]&8)&&oe!==(oe=((we=b[3].start)==null?void 0:we.split("T")[1].split("+")[0])+" - "+((_e=b[3].end)==null?void 0:_e.split("T")[1].split("+")[0]))&&ae(k,oe),b[4]?J?J.p(b,V):(J=vt(b),J.c(),J.m(h,D)):J&&(J.d(1),J=null),b[5]||b[6]?O?(O.p(b,V),V[0]&96&&g(O,1)):(O=pt(b),O.c(),g(O,1),O.m(h,null)):O&&(te(),C(O,1,1,()=>{O=null}),ee()),(!se||V[0]&8)&&me(h,"border-left-color",b[3].sessionTypeColor),(!se||V[0]&128)&&fe!==(fe=b[7].length+"")&&ae(Me,fe);const x={};if(!Oe&&V[0]&2&&(Oe=!0,x.checked=b[1],yt(()=>Oe=!1)),pe.$set(x),V[0]&129){$e=ue(b[7]);let N;for(N=0;N<$e.length;N+=1){const De=rt(b,$e,N);U[N]?(U[N].p(De,V),g(U[N],1)):(U[N]=bt(De),U[N].c(),g(U[N],1),U[N].m(Ee,null))}for(te(),N=$e.length;N<U.length;N+=1)Ht(N);ee()}},i(b){if(!se){g(B),g(O),g(pe.$$.fragment,b);for(let V=0;V<$e.length;V+=1)g(U[V]);se=!0}},o(b){C(B),C(O),C(pe.$$.fragment,b),U=U.filter(Boolean);for(let V=0;V<U.length;V+=1)C(U[V]);se=!1},d(b){b&&p(e),B&&B.d(),J&&J.d(),O&&O.d(),Te(pe),ye(U,b)}}}function ht(d){let e,l;return e=new qt({props:{speakers:d[0].speakers}}),{c(){ge(e.$$.fragment)},l(t){je(e.$$.fragment,t)},m(t,n){be(e,t,n),l=!0},p(t,n){const i={};n[0]&1&&(i.speakers=t[0].speakers),e.$set(i)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){C(e.$$.fragment,t),l=!1},d(t){Te(e,t)}}}function vt(d){let e,l,t="Objectifs :",n,i,c;return{c(){e=_("div"),l=_("strong"),l.textContent=t,n=y(),i=_("div"),c=new Mt(!1),this.h()},l(f){e=m(f,"DIV",{class:!0});var s=T(e);l=m(s,"STRONG",{class:!0,"data-svelte-h":!0}),he(l)!=="svelte-1jn7qe7"&&(l.textContent=t),n=M(s),i=m(s,"DIV",{class:!0});var I=T(i);c=Vt(I,!1),I.forEach(p),s.forEach(p),this.h()},h(){v(l,"class","svelte-d8j55j"),c.a=null,v(i,"class","svelte-d8j55j"),v(e,"class","objectives svelte-d8j55j")},m(f,s){X(f,e,s),u(e,l),u(e,n),u(e,i),c.m(d[4],i)},p(f,s){s[0]&16&&c.p(f[4])},d(f){f&&p(e)}}}function pt(d){let e,l,t,n=d[5]&&_t(d),i=d[6]&&gt(d);return{c(){e=_("table"),n&&n.c(),l=y(),i&&i.c(),this.h()},l(c){e=m(c,"TABLE",{class:!0});var f=T(e);n&&n.l(f),l=M(f),i&&i.l(f),f.forEach(p),this.h()},h(){v(e,"class","person-list svelte-d8j55j")},m(c,f){X(c,e,f),n&&n.m(e,null),u(e,l),i&&i.m(e,null),t=!0},p(c,f){c[5]?n?(n.p(c,f),f[0]&32&&g(n,1)):(n=_t(c),n.c(),g(n,1),n.m(e,l)):n&&(te(),C(n,1,1,()=>{n=null}),ee()),c[6]?i?(i.p(c,f),f[0]&64&&g(i,1)):(i=gt(c),i.c(),g(i,1),i.m(e,null)):i&&(te(),C(i,1,1,()=>{i=null}),ee())},i(c){t||(g(n),g(i),t=!0)},o(c){C(n),C(i),t=!1},d(c){c&&p(e),n&&n.d(),i&&i.d()}}}function _t(d){let e,l,t="Mod√©rateur :",n,i,c,f=ue(d[5]),s=[];for(let r=0;r<f.length;r+=1)s[r]=mt(dt(d,f,r));const I=r=>C(s[r],1,1,()=>{s[r]=null});return{c(){e=_("tr"),l=_("td"),l.textContent=t,n=y(),i=_("td");for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l(r){e=m(r,"TR",{class:!0});var o=T(e);l=m(o,"TD",{class:!0,"data-svelte-h":!0}),he(l)!=="svelte-1noy2yo"&&(l.textContent=t),n=M(o),i=m(o,"TD",{class:!0});var a=T(i);for(let h=0;h<s.length;h+=1)s[h].l(a);a.forEach(p),o.forEach(p),this.h()},h(){v(l,"class","role-label svelte-d8j55j"),v(i,"class","svelte-d8j55j"),v(e,"class","svelte-d8j55j")},m(r,o){X(r,e,o),u(e,l),u(e,n),u(e,i);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(i,null);c=!0},p(r,o){if(o[0]&32){f=ue(r[5]);let a;for(a=0;a<f.length;a+=1){const h=dt(r,f,a);s[a]?(s[a].p(h,o),g(s[a],1)):(s[a]=mt(h),s[a].c(),g(s[a],1),s[a].m(i,null))}for(te(),a=f.length;a<s.length;a+=1)I(a);ee()}},i(r){if(!c){for(let o=0;o<f.length;o+=1)g(s[o]);c=!0}},o(r){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)C(s[o]);c=!1},d(r){r&&p(e),ye(s,r)}}}function mt(d){let e,l;return e=new Ue({props:{info:d[25]}}),{c(){ge(e.$$.fragment)},l(t){je(e.$$.fragment,t)},m(t,n){be(e,t,n),l=!0},p(t,n){const i={};n[0]&32&&(i.info=t[25]),e.$set(i)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){C(e.$$.fragment,t),l=!1},d(t){Te(e,t)}}}function gt(d){let e,l,t="Responsable :",n,i,c,f=ue(d[6]),s=[];for(let r=0;r<f.length;r+=1)s[r]=jt(ot(d,f,r));const I=r=>C(s[r],1,1,()=>{s[r]=null});return{c(){e=_("tr"),l=_("td"),l.textContent=t,n=y(),i=_("td");for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l(r){e=m(r,"TR",{class:!0});var o=T(e);l=m(o,"TD",{class:!0,"data-svelte-h":!0}),he(l)!=="svelte-1xum5yq"&&(l.textContent=t),n=M(o),i=m(o,"TD",{class:!0});var a=T(i);for(let h=0;h<s.length;h+=1)s[h].l(a);a.forEach(p),o.forEach(p),this.h()},h(){v(l,"class","role-label svelte-d8j55j"),v(i,"class","svelte-d8j55j"),v(e,"class","svelte-d8j55j")},m(r,o){X(r,e,o),u(e,l),u(e,n),u(e,i);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(i,null);c=!0},p(r,o){if(o[0]&64){f=ue(r[6]);let a;for(a=0;a<f.length;a+=1){const h=ot(r,f,a);s[a]?(s[a].p(h,o),g(s[a],1)):(s[a]=jt(h),s[a].c(),g(s[a],1),s[a].m(i,null))}for(te(),a=f.length;a<s.length;a+=1)I(a);ee()}},i(r){if(!c){for(let o=0;o<f.length;o+=1)g(s[o]);c=!0}},o(r){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)C(s[o]);c=!1},d(r){r&&p(e),ye(s,r)}}}function jt(d){let e,l;return e=new Ue({props:{info:d[25]}}),{c(){ge(e.$$.fragment)},l(t){je(e.$$.fragment,t)},m(t,n){be(e,t,n),l=!0},p(t,n){const i={};n[0]&64&&(i.info=t[25]),e.$set(i)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){C(e.$$.fragment,t),l=!1},d(t){Te(e,t)}}}function bt(d){let e,l,t;function n(c){d[10](c)}let i={media:d[30],downloadable:!0};return d[0]!==void 0&&(i.currentMedia=d[0]),e=new Yt({props:i}),Dt.push(()=>St(e,"currentMedia",n)),{c(){ge(e.$$.fragment)},l(c){je(e.$$.fragment,c)},m(c,f){be(e,c,f),t=!0},p(c,f){const s={};f[0]&128&&(s.media=c[30]),!l&&f[0]&1&&(l=!0,s.currentMedia=c[0],yt(()=>l=!1)),e.$set(s)},i(c){t||(g(e.$$.fragment,c),t=!0)},o(c){C(e.$$.fragment,c),t=!1},d(c){Te(e,c)}}}function Tt(d){let e,l,t="Objectifs :",n,i,c;return{c(){e=_("div"),l=_("strong"),l.textContent=t,n=y(),i=_("div"),c=new Mt(!1),this.h()},l(f){e=m(f,"DIV",{class:!0});var s=T(e);l=m(s,"STRONG",{class:!0,"data-svelte-h":!0}),he(l)!=="svelte-1jn7qe7"&&(l.textContent=t),n=M(s),i=m(s,"DIV",{class:!0});var I=T(i);c=Vt(I,!1),I.forEach(p),s.forEach(p),this.h()},h(){v(l,"class","svelte-d8j55j"),c.a=null,v(i,"class","svelte-d8j55j"),v(e,"class","objectives svelte-d8j55j")},m(f,s){X(f,e,s),u(e,l),u(e,n),u(e,i),c.m(d[4],i)},p(f,s){s[0]&16&&c.p(f[4])},d(f){f&&p(e)}}}function kt(d){let e,l,t,n=d[5]&&Et(d),i=d[6]&&Ct(d);return{c(){e=_("table"),n&&n.c(),l=y(),i&&i.c(),this.h()},l(c){e=m(c,"TABLE",{class:!0});var f=T(e);n&&n.l(f),l=M(f),i&&i.l(f),f.forEach(p),this.h()},h(){v(e,"class","person-list svelte-d8j55j")},m(c,f){X(c,e,f),n&&n.m(e,null),u(e,l),i&&i.m(e,null),t=!0},p(c,f){c[5]?n?(n.p(c,f),f[0]&32&&g(n,1)):(n=Et(c),n.c(),g(n,1),n.m(e,l)):n&&(te(),C(n,1,1,()=>{n=null}),ee()),c[6]?i?(i.p(c,f),f[0]&64&&g(i,1)):(i=Ct(c),i.c(),g(i,1),i.m(e,null)):i&&(te(),C(i,1,1,()=>{i=null}),ee())},i(c){t||(g(n),g(i),t=!0)},o(c){C(n),C(i),t=!1},d(c){c&&p(e),n&&n.d(),i&&i.d()}}}function Et(d){let e,l,t="Mod√©rateur :",n,i,c,f=ue(d[5]),s=[];for(let r=0;r<f.length;r+=1)s[r]=$t(nt(d,f,r));const I=r=>C(s[r],1,1,()=>{s[r]=null});return{c(){e=_("tr"),l=_("td"),l.textContent=t,n=y(),i=_("td");for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l(r){e=m(r,"TR",{class:!0});var o=T(e);l=m(o,"TD",{class:!0,"data-svelte-h":!0}),he(l)!=="svelte-1noy2yo"&&(l.textContent=t),n=M(o),i=m(o,"TD",{class:!0});var a=T(i);for(let h=0;h<s.length;h+=1)s[h].l(a);a.forEach(p),o.forEach(p),this.h()},h(){v(l,"class","role-label svelte-d8j55j"),v(i,"class","svelte-d8j55j"),v(e,"class","svelte-d8j55j")},m(r,o){X(r,e,o),u(e,l),u(e,n),u(e,i);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(i,null);c=!0},p(r,o){if(o[0]&32){f=ue(r[5]);let a;for(a=0;a<f.length;a+=1){const h=nt(r,f,a);s[a]?(s[a].p(h,o),g(s[a],1)):(s[a]=$t(h),s[a].c(),g(s[a],1),s[a].m(i,null))}for(te(),a=f.length;a<s.length;a+=1)I(a);ee()}},i(r){if(!c){for(let o=0;o<f.length;o+=1)g(s[o]);c=!0}},o(r){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)C(s[o]);c=!1},d(r){r&&p(e),ye(s,r)}}}function $t(d){let e,l;return e=new Ue({props:{info:d[25]}}),{c(){ge(e.$$.fragment)},l(t){je(e.$$.fragment,t)},m(t,n){be(e,t,n),l=!0},p(t,n){const i={};n[0]&32&&(i.info=t[25]),e.$set(i)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){C(e.$$.fragment,t),l=!1},d(t){Te(e,t)}}}function Ct(d){let e,l,t="Responsable :",n,i,c,f=ue(d[6]),s=[];for(let r=0;r<f.length;r+=1)s[r]=It(at(d,f,r));const I=r=>C(s[r],1,1,()=>{s[r]=null});return{c(){e=_("tr"),l=_("td"),l.textContent=t,n=y(),i=_("td");for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l(r){e=m(r,"TR",{class:!0});var o=T(e);l=m(o,"TD",{class:!0,"data-svelte-h":!0}),he(l)!=="svelte-1xum5yq"&&(l.textContent=t),n=M(o),i=m(o,"TD",{class:!0});var a=T(i);for(let h=0;h<s.length;h+=1)s[h].l(a);a.forEach(p),o.forEach(p),this.h()},h(){v(l,"class","role-label svelte-d8j55j"),v(i,"class","svelte-d8j55j"),v(e,"class","svelte-d8j55j")},m(r,o){X(r,e,o),u(e,l),u(e,n),u(e,i);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(i,null);c=!0},p(r,o){if(o[0]&64){f=ue(r[6]);let a;for(a=0;a<f.length;a+=1){const h=at(r,f,a);s[a]?(s[a].p(h,o),g(s[a],1)):(s[a]=It(h),s[a].c(),g(s[a],1),s[a].m(i,null))}for(te(),a=f.length;a<s.length;a+=1)I(a);ee()}},i(r){if(!c){for(let o=0;o<f.length;o+=1)g(s[o]);c=!0}},o(r){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)C(s[o]);c=!1},d(r){r&&p(e),ye(s,r)}}}function It(d){let e,l;return e=new Ue({props:{info:d[25]}}),{c(){ge(e.$$.fragment)},l(t){je(e.$$.fragment,t)},m(t,n){be(e,t,n),l=!0},p(t,n){const i={};n[0]&64&&(i.info=t[25]),e.$set(i)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){C(e.$$.fragment,t),l=!1},d(t){Te(e,t)}}}function Kt(d){let e,l,t,n,i,c='<i class="gg-chevron-left svelte-d8j55j"></i> Retour',f,s,I,r,o;Je.title=e=d[3]?d[3].title:"JFR 2024",s=new Bt({});let a=d[2]&&ct(),h=!d[2]&&d[3]&&ft(d);return{c(){l=y(),t=_("main"),n=_("div"),i=_("a"),i.innerHTML=c,f=y(),ge(s.$$.fragment),I=y(),a&&a.c(),r=y(),h&&h.c(),this.h()},l(E){Ut("svelte-135ofcf",Je.head).forEach(p),l=M(E),t=m(E,"MAIN",{class:!0});var P=T(t);n=m(P,"DIV",{id:!0,class:!0});var q=T(n);i=m(q,"A",{href:!0,class:!0,"data-svelte-h":!0}),he(i)!=="svelte-o11hhh"&&(i.innerHTML=c),f=M(q),je(s.$$.fragment,q),q.forEach(p),I=M(P),a&&a.l(P),r=M(P),h&&h.l(P),P.forEach(p),this.h()},h(){v(i,"href",ze+"/"),v(i,"class","one-liner svelte-d8j55j"),v(n,"id","navbar"),v(n,"class","svelte-d8j55j"),v(t,"class","svelte-d8j55j")},m(E,S){X(E,l,S),X(E,t,S),u(t,n),u(n,i),u(n,f),be(s,n,null),u(t,I),a&&a.m(t,null),u(t,r),h&&h.m(t,null),o=!0},p(E,S){(!o||S[0]&8)&&e!==(e=E[3]?E[3].title:"JFR 2024")&&(Je.title=e),E[2]?a||(a=ct(),a.c(),a.m(t,r)):a&&(a.d(1),a=null),!E[2]&&E[3]?h?(h.p(E,S),S[0]&12&&g(h,1)):(h=ft(E),h.c(),g(h,1),h.m(t,null)):h&&(te(),C(h,1,1,()=>{h=null}),ee())},i(E){o||(g(s.$$.fragment,E),g(h),o=!0)},o(E){C(s.$$.fragment,E),C(h),o=!1},d(E){E&&(p(l),p(t)),Te(s),a&&a.d(),h&&h.d()}}}const Qt=25;function Wt(d,e,l){let t,n,i;Ge(d,it,$=>l(8,t=$)),Ge(d,st,$=>l(16,n=$)),Ge(d,Ft,$=>l(17,i=$));const c=i.url.searchParams;let f,s;c&&(f=c.get("id"),s=c.get("media-url"));let I=!0,r,o,a,h,E,S,P,q,Y=(t==null?void 0:t.autoplay)??!1,H=[];Nt(async()=>{var A,ce,ve,oe;const $=document.createElement("script");$.src="https://www.youtube.com/iframe_api",document.body.appendChild($),r=await(await fetch(`${ze}/json/${f}.json`)).json(),l(3,o=r.data.event),l(4,a=o.objectives.map(k=>`<div class="objectives-value">${k}</div>`).join("")),l(5,h=(A=o.roles.find(k=>k.name==="mod√©rateur"))==null?void 0:A.assignees.items),l(6,E=(ce=o.roles.find(k=>k.name==="responsable"))==null?void 0:ce.assignees.items);const w=await(await fetch(`${ze}/json/yt-video-mapping.json`)).json();for(const k of o.schedule.items)if(k.vod&&k.vod.media&&k.vod.media.element&&k.vod.media.element.sources){const j=k.vod.media.element.sources[0].uri.split("/video/")[0].split("/").pop(),D=w.hasOwnProperty(j)?`https://www.youtube.com/embed/${w[j]}`:null;H.push({id:k.vod.media.id,title:k.vod.media.id?k.title:`${k.title} ‚ìÇÔ∏è`,hdUrl:D??k.vod.media.element.sources[0].uri,url:D??((ve=k.vod.media.element.sources[1])==null?void 0:ve.uri),thumbnail:k.vod.media.thumbnail,start:k.start.split("T")[1].split("+")[0],speakers:k.speakers.items})}if(o.vod&&o.vod.media&&o.vod.media.element&&o.vod.media.element.sources){const k=o.vod.media.element.sources[0].uri.split("/video/")[0].split("/").pop(),j=w.hasOwnProperty(k)?`https://www.youtube.com/embed/${w[k]}`:null;H.push({id:o.vod.media.id,title:o.vod.media.title??"[Sans titre]",hdUrl:j??o.vod.media.element.sources[0].uri,url:j??((oe=o.vod.media.element.sources[1])==null?void 0:oe.uri),thumbnail:o.vod.media.thumbnail,start:o.start.split("T")[1].split("+")[0],speakers:o.speakers.items})}if(o.picture){const k=o.picture.split("/video/")[0].split("/").pop();if(w.hasOwnProperty(k)){const j=`https://www.youtube.com/embed/${w[k]}`;H.find(Q=>Q.hdUrl===j)||H.push({id:null,title:"[Non r√©pertori√©e]",hdUrl:j,url:j,thumbnail:o.picture,start:o.start.split("T")[1].split("+")[0],speakers:null})}}return l(7,H=H.toSorted((k,j)=>k.start.localeCompare(j.start))),H.length>0&&(s&&(q=l(0,P=H.find(k=>k.hdUrl===s))),P||(q=l(0,P=H[0]))),l(2,I=!1),window.onYouTubeIframeAPIReady=()=>{const k=P.hdUrl.split("/").pop();S=new YT.Player("player",{videoId:k,playerVars:{modestbranding:1,playsinline:1,controls:2,autoplay:Y?1:0,rel:0},events:{onStateChange:ie}})},()=>{S&&S.destroy&&S.destroy(),delete window.onYouTubeIframeAPIReady}});const ie=$=>{$.data===YT.PlayerState.PLAYING?ne(P):$.data===YT.PlayerState.ENDED&&re(P)},ne=$=>{const L=n.filter(w=>w.hdUrl!==$.hdUrl),R=structuredClone($);R.sessionId=f,R.sessionTitle=o.title,R.sessionTypeColor=o.sessionTypeColor!=="#000000"?o.sessionTypeColor:"#dfdfdf",lt(st,n=[R,...L].slice(0,Qt),n)},re=$=>{if(!t.autoplay)return;const L=H.indexOf($);L<H.length-1&&(l(0,P=H[L+1]),F(P))},F=$=>{if(!S||!$||$===q)return;const L=$.hdUrl.split("/").pop();S.loadVideoById(L),ne($),q=$};function le($){Y=$,l(1,Y)}function de($){P=$,l(0,P)}return d.$$.update=()=>{d.$$.dirty[0]&258&&t&&lt(it,t={autoplay:Y},t),d.$$.dirty[0]&1&&F(P)},[P,Y,I,o,a,h,E,H,t,le,de]}class ll extends Pt{constructor(e){super(),Rt(this,e,Wt,Kt,wt,{},null,[-1,-1])}}export{ll as component};
