import{s as ye,n as Ee,c as we,o as Me,a as he,r as je}from"../chunks/scheduler.b4fccd2c.js";import{S as Ae,i as Re,s as C,e as c,k as Ne,d as o,f as H,c as v,a as b,l as ee,m as l,g as X,h as e,t as U,H as Se,b as B,n as Oe,j as ne,o as qe,p as xe}from"../chunks/index.28be19b0.js";import{g as Pe,a as De,e as Ie,s as Fe}from"../chunks/Constants.2888ee07.js";import{b as Le}from"../chunks/paths.0b575184.js";import{p as Ge}from"../chunks/stores.727fb26f.js";const{document:me}=Pe;function Te(i,t,r){const s=i.slice();return s[14]=t[r],s}function ke(i){let t,r='<div class="nucleobase svelte-tmb1x1"></div> <div class="nucleobase svelte-tmb1x1"></div> <div class="nucleobase svelte-tmb1x1"></div> <div class="nucleobase svelte-tmb1x1"></div> <div class="nucleobase svelte-tmb1x1"></div> <div class="nucleobase svelte-tmb1x1"></div> <div class="nucleobase svelte-tmb1x1"></div> <div class="nucleobase svelte-tmb1x1"></div> <div class="nucleobase svelte-tmb1x1"></div> <div class="nucleobase svelte-tmb1x1"></div>';return{c(){t=c("div"),t.innerHTML=r,this.h()},l(s){t=v(s,"DIV",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-1vxv50n"&&(t.innerHTML=r),this.h()},h(){l(t,"class","DNA_cont svelte-tmb1x1")},m(s,p){X(s,t,p)},d(s){s&&o(t)}}}function Ce(i){let t,r,s,p=i[1].title+"",L,E,f,a,h,d=De(i[1].start.split("T")[0])+"",_,V,I,N,R=i[1].start.split("T")[1].split("+")[0]+" - "+i[1].end.split("T")[1].split("+")[0],S,u,n,x,w="Objectifs :",O,q,J,Q=i[1].objectives.join("")+"",M,D,j,A,P,Z,F,y,Y,te,oe,G,z,fe='<strong class="svelte-tmb1x1">Liste de lecture :</strong>',ce,K,W=Ie(i[4]),T=[];for(let m=0;m<W.length;m+=1)T[m]=He(Te(i,W,m));return{c(){t=c("div"),r=c("div"),s=c("h1"),L=U(p),E=C(),f=c("div"),a=c("div"),h=U("üóìÔ∏è "),_=U(d),V=C(),I=c("div"),N=U("üï£ "),S=U(R),u=C(),n=c("div"),x=c("strong"),x.textContent=w,O=C(),q=c("div"),J=new Se(!1),M=C(),D=c("div"),j=c("div"),A=c("div"),P=c("strong"),Z=U(i[2]),F=C(),y=c("video"),Y=c("track"),oe=C(),G=c("div"),z=c("div"),z.innerHTML=fe,ce=C(),K=c("div");for(let m=0;m<T.length;m+=1)T[m].c();this.h()},l(m){t=v(m,"DIV",{class:!0});var k=b(t);r=v(k,"DIV",{class:!0});var g=b(r);s=v(g,"H1",{class:!0});var $=b(s);L=B($,p),$.forEach(o),E=H(g),f=v(g,"DIV",{class:!0});var se=b(f);a=v(se,"DIV",{class:!0});var ve=b(a);h=B(ve,"üóìÔ∏è "),_=B(ve,d),ve.forEach(o),V=H(se),I=v(se,"DIV",{class:!0});var de=b(I);N=B(de,"üï£ "),S=B(de,R),de.forEach(o),se.forEach(o),g.forEach(o),u=H(k),n=v(k,"DIV",{class:!0});var le=b(n);x=v(le,"STRONG",{class:!0,"data-svelte-h":!0}),ee(x)!=="svelte-1jn7qe7"&&(x.textContent=w),O=H(le),q=v(le,"DIV",{class:!0});var _e=b(q);J=Oe(_e,!1),_e.forEach(o),le.forEach(o),k.forEach(o),M=H(m),D=v(m,"DIV",{class:!0});var ae=b(D);j=v(ae,"DIV",{class:!0});var ie=b(j);A=v(ie,"DIV",{class:!0});var be=b(A);P=v(be,"STRONG",{class:!0});var pe=b(P);Z=B(pe,i[2]),pe.forEach(o),be.forEach(o),F=H(ie),y=v(ie,"VIDEO",{class:!0,src:!0});var ge=b(y);Y=v(ge,"TRACK",{kind:!0,class:!0}),ge.forEach(o),ie.forEach(o),oe=H(ae),G=v(ae,"DIV",{class:!0});var re=b(G);z=v(re,"DIV",{class:!0,"data-svelte-h":!0}),ee(z)!=="svelte-1qyb1c1"&&(z.innerHTML=fe),ce=H(re),K=v(re,"DIV",{class:!0});var Ve=b(K);for(let ue=0;ue<T.length;ue+=1)T[ue].l(Ve);Ve.forEach(o),re.forEach(o),ae.forEach(o),this.h()},h(){l(s,"class","svelte-tmb1x1"),l(a,"class","svelte-tmb1x1"),l(I,"class","svelte-tmb1x1"),l(f,"class","date-time subtitle svelte-tmb1x1"),l(r,"class","session-header svelte-tmb1x1"),l(x,"class","svelte-tmb1x1"),J.a=null,l(q,"class","svelte-tmb1x1"),l(n,"class","objectives svelte-tmb1x1"),l(t,"class","detail svelte-tmb1x1"),l(P,"class","svelte-tmb1x1"),l(A,"class","svelte-tmb1x1"),l(Y,"kind","captions"),l(Y,"class","svelte-tmb1x1"),y.controls=!0,l(y,"class","video-player svelte-tmb1x1"),he(y.src,te=i[3])||l(y,"src",te),l(j,"class","video-container svelte-tmb1x1"),l(z,"class","svelte-tmb1x1"),l(K,"class","playlist svelte-tmb1x1"),l(G,"class","playlist-container svelte-tmb1x1"),l(D,"class","media svelte-tmb1x1")},m(m,k){X(m,t,k),e(t,r),e(r,s),e(s,L),e(r,E),e(r,f),e(f,a),e(a,h),e(a,_),e(f,V),e(f,I),e(I,N),e(I,S),e(t,u),e(t,n),e(n,x),e(n,O),e(n,q),J.m(Q,q),X(m,M,k),X(m,D,k),e(D,j),e(j,A),e(A,P),e(P,Z),e(j,F),e(j,y),e(y,Y),e(D,oe),e(D,G),e(G,z),e(G,ce),e(G,K);for(let g=0;g<T.length;g+=1)T[g]&&T[g].m(K,null)},p(m,k){if(k&2&&p!==(p=m[1].title+"")&&ne(L,p),k&2&&d!==(d=De(m[1].start.split("T")[0])+"")&&ne(_,d),k&2&&R!==(R=m[1].start.split("T")[1].split("+")[0]+" - "+m[1].end.split("T")[1].split("+")[0])&&ne(S,R),k&2&&Q!==(Q=m[1].objectives.join("")+"")&&J.p(Q),k&4&&ne(Z,m[2]),k&8&&!he(y.src,te=m[3])&&l(y,"src",te),k&120){W=Ie(m[4]);let g;for(g=0;g<W.length;g+=1){const $=Te(m,W,g);T[g]?T[g].p($,k):(T[g]=He($),T[g].c(),T[g].m(K,null))}for(;g<T.length;g+=1)T[g].d(1);T.length=W.length}},d(m){m&&(o(t),o(M),o(D)),qe(T,m)}}}function He(i){let t,r,s,p,L,E,f,a,h=i[14].title+"",d,_,V,I,N=i[14].start+"",R,S,u,n='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" class="svg-icon svelte-tmb1x1" xmlns="http://www.w3.org/2000/svg"><path d="M11 5C11 4.44772 11.4477 4 12 4C12.5523 4 13 4.44772 13 5V12.1578L16.2428 8.91501L17.657 10.3292L12.0001 15.9861L6.34326 10.3292L7.75748 8.91501L11 12.1575V5Z" fill="currentColor" class="svelte-tmb1x1"></path><path d="M4 14H6V18H18V14H20V18C20 19.1046 19.1046 20 18 20H6C4.89543 20 4 19.1046 4 18V14Z" fill="currentColor" class="svelte-tmb1x1"></path></svg> <div class="svelte-tmb1x1">T√©l√©charger</div>',x,w,O,q;function J(){return i[7](i[14])}function Q(){return i[8](i[14])}return{c(){t=c("div"),r=c("div"),s=c("img"),L=C(),E=c("div"),f=c("div"),a=c("strong"),d=U(h),_=C(),V=c("div"),I=c("span"),R=U(N),S=C(),u=c("button"),u.innerHTML=n,x=C(),this.h()},l(M){t=v(M,"DIV",{class:!0});var D=b(t);r=v(D,"DIV",{class:!0});var j=b(r);s=v(j,"IMG",{class:!0,src:!0,alt:!0}),j.forEach(o),L=H(D),E=v(D,"DIV",{class:!0});var A=b(E);f=v(A,"DIV",{class:!0});var P=b(f);a=v(P,"STRONG",{class:!0});var Z=b(a);d=B(Z,h),Z.forEach(o),P.forEach(o),_=H(A),V=v(A,"DIV",{class:!0});var F=b(V);I=v(F,"SPAN",{class:!0});var y=b(I);R=B(y,N),y.forEach(o),S=H(F),u=v(F,"BUTTON",{type:!0,title:!0,class:!0,"data-svelte-h":!0}),ee(u)!=="svelte-okigmr"&&(u.innerHTML=n),F.forEach(o),A.forEach(o),x=H(D),D.forEach(o),this.h()},h(){l(s,"class","thumbnail svelte-tmb1x1"),he(s.src,p=i[14].thumbnail)||l(s,"src",p),l(s,"alt",i[14].title),l(r,"class","thumbnail-container svelte-tmb1x1"),l(a,"class","svelte-tmb1x1"),l(f,"class","svelte-tmb1x1"),l(I,"class","svelte-tmb1x1"),l(u,"type","button"),l(u,"title","T√©l√©charger"),l(u,"class","btn-download svelte-tmb1x1"),l(V,"class","subtitle svelte-tmb1x1"),l(E,"class","video-details svelte-tmb1x1"),l(t,"class",w="playlist-item "+(i[14].url==i[3]?"selected":"")+" svelte-tmb1x1")},m(M,D){X(M,t,D),e(t,r),e(r,s),e(t,L),e(t,E),e(E,f),e(f,a),e(a,d),e(E,_),e(E,V),e(V,I),e(I,R),e(V,S),e(V,u),e(t,x),O||(q=[xe(u,"click",J),xe(t,"click",Q)],O=!0)},p(M,D){i=M,D&8&&w!==(w="playlist-item "+(i[14].url==i[3]?"selected":"")+" svelte-tmb1x1")&&l(t,"class",w)},d(M){M&&o(t),O=!1,je(q)}}}function Ue(i){let t,r,s,p,L='<i class="gg-chevron-left svelte-tmb1x1"></i> Retour',E,f;me.title=t=i[1]?i[1].title:"JFR 2024";let a=i[0]&&ke(),h=!i[0]&&i[1]&&Ce(i);return{c(){r=C(),s=c("main"),p=c("a"),p.innerHTML=L,E=C(),a&&a.c(),f=C(),h&&h.c(),this.h()},l(d){Ne("svelte-135ofcf",me.head).forEach(o),r=H(d),s=v(d,"MAIN",{class:!0});var V=b(s);p=v(V,"A",{href:!0,class:!0,"data-svelte-h":!0}),ee(p)!=="svelte-1su23mt"&&(p.innerHTML=L),E=H(V),a&&a.l(V),f=H(V),h&&h.l(V),V.forEach(o),this.h()},h(){l(p,"href",Le+"/"),l(p,"class","one-liner svelte-tmb1x1"),l(s,"class","svelte-tmb1x1")},m(d,_){X(d,r,_),X(d,s,_),e(s,p),e(s,E),a&&a.m(s,null),e(s,f),h&&h.m(s,null)},p(d,[_]){_&2&&t!==(t=d[1]?d[1].title:"JFR 2024")&&(me.title=t),d[0]?a||(a=ke(),a.c(),a.m(s,f)):a&&(a.d(1),a=null),!d[0]&&d[1]?h?h.p(d,_):(h=Ce(d),h.c(),h.m(s,null)):h&&(h.d(1),h=null)},i:Ee,o:Ee,d(d){d&&(o(r),o(s)),a&&a.d(),h&&h.d()}}}function Be(i,t,r){let s;we(i,Ge,u=>r(11,s=u));const p=s.url.searchParams;let L;p&&(L=p.get("id"));let E=!0,f,a,h,d,_=[];const V=u=>{var n=new XMLHttpRequest;return n.open("HEAD",u,!1),n.send(),n.status!=404},I=(u,n)=>{r(2,h=u),r(3,d=n)},N=(u,n)=>{const x=document.createElement("a");x.href=n;const w=n.split("."),O="."+w[w.length-1];x.download=Fe(u)+O,x.target="_blank",document.body.appendChild(x),x.click(),document.body.removeChild(x)};return Me(async()=>{f=await(await fetch(`${Le}/json/${L}.json`)).json(),r(1,a=f.data.event);for(const n of a.schedule.items)n.vod&&n.vod.media&&n.vod.media.element&&n.vod.media.element.sources&&_.push({title:n.title,url:n.vod.media.element.sources[0].uri,thumbnail:n.vod.media.thumbnail,start:n.start.split("T")[1].split("+")[0]});if(a.picture){const n=a.picture.split("/video/")[0]+"/video/y_1080p_4000kb.mp4";!_.some(w=>w.url===n)&&V(n)&&_.push({title:"[Unlisted Video]",url:n,thumbnail:a.picture,start:a.start.split("T")[1].split("+")[0]})}_.length>0&&(r(2,h=_[0].title),r(3,d=_[0].url)),r(0,E=!1)}),[E,a,h,d,_,I,N,u=>N(u.title,u.url),u=>I(u.title,u.url)]}class Qe extends Ae{constructor(t){super(),Re(this,t,Be,Ue,ye,{})}}export{Qe as component};
